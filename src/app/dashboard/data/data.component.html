<!-- Display a select dropdown list with options -->
<mat-form-field>
  <mat-label>Kindergarten auswählen</mat-label>
  <mat-select [(ngModel)]="kindergardenFilter" placeholder="Auswählen" (ngModelChange)="filterHandler($event)">
<!--    <mat-option value="">Kein Filter</mat-option>-->
    <mat-option *ngFor="let option of this.kindergardens" [value]="option">{{ option.name }}</mat-option>
  </mat-select>
</mat-form-field>

<table mat-table
       [dataSource]="this.dataSource!"
       class="mat-elevation-z8"
       matSort
       matSortActive="name"
       matSortDirection="asc"
       matSortDisableClear
>

  <ng-container matColumnDef="name">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
    <td mat-cell *matCellDef="let element">{{ element.name }}</td>
  </ng-container>

  <ng-container matColumnDef="kindergardenName">
    <th mat-header-cell *matHeaderCellDef mat-sort-header>Kindergarten</th>
    <td mat-cell *matCellDef="let element">{{ element.kindergarden.name }}</td>
  </ng-container>

  <ng-container matColumnDef="kindergardenAddress">
    <th mat-header-cell *matHeaderCellDef>Adresse</th>
    <td mat-cell *matCellDef="let element">{{ element.kindergarden.address }}</td>
  </ng-container>

  <ng-container matColumnDef="age">
    <th mat-header-cell *matHeaderCellDef>Alter</th>
    <td mat-cell *matCellDef="let element">{{ getAge(element.birthDate) }}</td>
  </ng-container>

  <ng-container matColumnDef="birthDate">
    <th mat-header-cell *matHeaderCellDef>Geburtsdatum</th>
    <td mat-cell *matCellDef="let element">{{ element.birthDate | date:'longDate' }}</td>
  </ng-container>

  <ng-container matColumnDef="cancelRegistration">
    <th mat-header-cell *matHeaderCellDef>Kind abmelden</th>
    <td mat-cell *matCellDef="let element">
      <button (click)="cancelRegistration(element.id)">Kind abmelden</button>
    </td>
  </ng-container>
  <ng-container matColumnDef="registrationDate">
    <th mat-header-cell mat-sort-header *matHeaderCellDef>Anmeldedatum</th>
    <td mat-cell *matCellDef="let element">{{ element.registrationDate | date:'longDate' }}</td>
  </ng-container>

  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

</table>


<mat-paginator [length]="getTotalChildCount()"
               [pageSize]="pageSize"
               [pageSizeOptions]="[5, 10, 25, 100]"
               [pageIndex]="currentPage"
               (page)="setPaginatorPage($event)"
               showFirstLastButtons
               aria-label="Select page">
</mat-paginator>
